/* Some or all contents Copyright (c) 2010-2025 Cisco Systems, Inc., all rights reserved */
function timeseries_t0(e){return e[0][0]}function timeseries_t1(e){return e[e.length-1][0]}function timeseries_upper_bound(e,n){for(var t,r=0,i=e.length;r<i;)e[t=r+(i-r>>1)][0]<=n?r=t+1:i=t;return r}function timed_property_splice(e,n,t,r,i){var l=e[t],o=n[t];o&&o.length&&(l&&l.length?l[l.length-1][0]<=r?l.push.apply(l,o):(r=timeseries_upper_bound(l,r),(i=timeseries_upper_bound(l,i))==l.length?(l.splice(r,i-r),l.push.apply(l,o)):meraki_array_splice_apply(l,[r,i-r].concat(o))):e[t]=n[t])}function blockseries_check(e){for(var n,t=0,r="undefined"!=typeof console&&"function"==typeof console.log?console.log:function(){},i=0;i<e.length;++i)e[i]&&e[i].length?(0<i&&e[i-1]&&e[i-1].length&&e[i][0]<=e[i-1][0]&&(r("blockseries time fail: "+(i-1)+"="+e[i-1][0]+", "+i+"="+e[i][0]),r(e[i-1]),r(e[i]),++t),1<e[i].length&&!n&&(n=e[i].length),1<e[i].length&&e[i].length!=n&&(r("blockseries block fail: "+i+" length "+e[i].length+", not "+n),++t)):(r("blockseries object fail: "+i),r(e[i]),++t);if(t)throw new Error("blockseries fail")}function blocked_property_add(e,n,t,r){n=n[t],t=e[t]=e[t]||[];n&&2<=n.length&&blockseries.add(t,n,r)}function blocked_property_splice(e,n,t){var r=e[t],i=n[t];!i||i.length<2||(!r||r.length<2?e[t]=n[t]:blockseries.splice(r,i))}function mapped_blocked_property_add(e,n,t,r){var i,l,o,s,c=n[t];if(c)for(l in i=e[t]=e[t]||{},c)(o=c[l])&&2<=o.length&&(s=i[l]=i[l]||[],blockseries.add(s,o,r))}function vector_sum(e){var n,t=0;if(e)for(n=e.length-1;0<=n;--n)t+=e[n]||0;return t}function vector_add(e,n){for(var t=n.length-1;0<=t;--t)e[t]=(e[t]||0)+(n[t]||0);return e}function vector_property_add(e,n,t){var r=e[t],i=n[t];i&&i.length&&(r&&r.length?vector_add(r,i):e[t]=n[t])}function rusage_sum(e,n){for(var t in n)e[t]=e[t]||{},counter_set_sum(e[t],n[t])}function counter_set_sum(e,n){for(var t in n)e[t]=e[t]||[],vector_add(e[t],n[t])}blockseries=function(){var f=meraki_array_splice_apply;function g(e,n,t,r){var i,l,o=[r],s=e[n-1],c=e[n];if(!c||r<=s[0]||c[0]<=t)return o;if(t==s[0]&&r==c[0])return c;for(i=(r-t)/(c[0]-s[0]),l=1;l<c.length;++l)o.push(c[l]*i);return o}function i(e,n){var t,r,i,l=timeseries_upper_bound(e,n);return t=e,i=n,0<(r=l)&&r<t.length&&t[r-1][0]<i&&t[r][0]>i&&1<t[r].length&&(function(e,n,t){for(var r=(t-e[n-1][0])/(e[n][0]-e[n-1][0]),i=[t],l=1;l<e[n].length;++l)i[l]=e[n][l]*r,e[n][l]-=i[l];e.splice(n,0,i)}(e,l,n),++l),l}return{splice:function(e,n){var t=i(e,n[0][0]),r=i(e,n[n.length-1][0]);0<t&&e[t-1][0]==n[0][0]&&(n=n.slice(1,n.length)),r==e.length&&e.splice(t,r-t),t==e.length?e.push.apply(e,n):e.splice.apply(e,[t,r-t].concat(n))},split:i,add:function(e,n,t){var r,i,l,o,s,c,p,u,h,a=[1/0];if(n&&!(n.length<2)){for(r=timeseries_upper_bound(n,o=!(o=t)||o<n[0][0]?n[0][0]:o),0==(i=timeseries_upper_bound(e,o))&&(e.splice(0,0,[o]),i=1),l=[i,0],0<i&&e[i-1][0]<o&&(u=g(e,i,e[i-1][0],o),l.push(u));;){for(;r<n.length&&(1==n[r].length||n[r][0]<=o);)++r;for(;i<e.length&&(1==e[i].length||e[i][0]<=o);)++i;if(r==n.length){if(i==e.length)break;if(e[i-1][0]>=n[r-1][0]){e[i-1][0]>o&&l.push([e[i-1][0]]);break}}if(o<(s=Math.max(o,Math.min(n[r-1][0],e[i-1][0])))&&l.push([s]),c=Math.min((n[r]||a)[0],(e[i]||a)[0]),n[r-1][0]>s&&(c=Math.min(c,n[r-1][0])),p=g(n,r,s,c=e[i-1][0]>s?Math.min(c,e[i-1][0]):c),1==(u=g(e,i,s,c)).length)l.push(p);else if(1==p.length)l.push(u);else{for(p==n[r]&&(p=[].concat(p)),h=1;h<p.length;++h)p[h]+=u[h];l.push(p)}o=c}l[1]=i-l[0],f(e,l)}}}}(),blockseries_splice=blockseries.splice,blockseries_split=blockseries.split,blockseries_add=blockseries.add;