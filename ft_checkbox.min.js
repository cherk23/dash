/* Some or all contents Copyright (c) 2010-2025 Cisco Systems, Inc., all rights reserved */
window.ftAddon=window.ftAddon||{},window.ftAddon.checkbox=function(d,a){var e={l:"<input type='checkbox' class='check_all' />",render:"<input type='checkbox' class='row_check' [%= !!item.checked ? 'checked' : '' %] [%= !!item.disable_checkbox ? \"disabled='disabled'\" : '' %]/>",className:"checkbox nodrag",width:"20px",sort_by:!1,selectable:!1},c=a.extend({},e);c.render+="&nbsp;[%= this.base+index+1 %]",c.className+=" checknum",c.width="70px";return function(i){i.extend_columns({checkbox:i.checknum?c:e}),i.initial_fields.unshift("checkbox"),i.set_selected_fields(a.union(["checkbox"],i.selected_fields()),!0),i.checked_items=function(){return a(i.items()).checked()},i.has_checked_items=function(){return!a.isEmpty(i.checked_items())},i.submit_checked_items=function(e,c){return d.post(e,a.extend(c||{},{ids:a(i.checked_items()).ids()}))},i.max_checked_items=function(e){return a.size(i.checked_items())>e};var t,s=a.debounce(function(){d(i).trigger("change:checked",[i.checked_items()])},5);i.uncheck_items=function(e){e=e||i.items(),a.each(e,function(e){e.checked=!1}),i.rerender_columns(["checkbox"]),s()};var o=i.container;o.on("change",".check_all",function(e){e.stopPropagation(),o.find(".row_check:not([disabled])").prop("checked",d(this).is(":checked")).change()}).on("change",".row_check",function(e){e.stopPropagation(),i.get_item_for_row(d(this).closest("tr").index()).checked=d(this).is(":checked"),s()}).on("click",".row_check",function(e){e.stopPropagation(),function(e){var c=d(this),n=c.is(":checked"),c=c.closest("tr").index();n&&void 0!==t&&e.shiftKey?(e=[t,c].sort(function(e,c){return e-c}),a.each(a.range(e[0],e[1]+1),function(e){i.get_item_for_row(e).checked=n}),t=void 0,i.rerender_columns(["checkbox"]),s()):t=n?c:void 0}.call(this,e)}),d(i).on("change:checked change:data change:results rendered",function(){var e=i.items(!0);o.find(".check_all").prop("checked",0<a.size(e)&&a.all(e,function(e){return e.checked}));var c=o.siblings(".action_bar").find("> .actions > .btn-group"),n=Mkiconf.is_read_only||!i.has_checked_items();c.children("a").toggleClass("disabled",n),!a.isUndefined(Mkiconf.is_sales_demo_admin)&&Mkiconf.is_sales_demo_admin&&(n=!i.has_checked_items(),(e=d("#action_bar")).find("#action_tag a").toggleClass("disabled",n),e.find("#action_command a").toggleClass("disabled",n),e.find("#action_more a").toggleClass("disabled",n),e.find("#action_edit a").toggleClass("disabled",n)),n&&c.removeClass("open")})}}(jQuery,_);