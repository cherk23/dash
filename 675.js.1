"use strict";(self.webpackChunk_dashboard_header=self.webpackChunk_dashboard_header||[]).push([[675],{608:(x,w,f)=>{f.d(w,{Q:()=>h});var h=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(R){return this.listeners.add(R),this.onSubscribe(),()=>{this.listeners.delete(R),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},18717:(x,w,f)=>{f.d(w,{E:()=>$});var h=f(68804),R=f(98697),y=f(73729),S=f(608),m=class extends S.Q{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,a){const s=e.queryKey,n=e.queryHash??(0,h.F$)(s,e);let l=this.get(n);return l||(l=new R.X({cache:this,queryKey:s,queryHash:n,options:t.defaultQueryOptions(e),state:a,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){y.j.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(a=>(0,h.MK)(e,a))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(a=>(0,h.MK)(t,a)):e}notify(t){y.j.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){y.j.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){y.j.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},g=f(36904),C=f(78604),o=class extends g.k{#t;#e;#i;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||u(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){this.#i=(0,C.II)({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(s,n)=>{this.#s({type:"failed",failureCount:s,error:n})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const e=this.state.status==="pending",a=!this.#i.canStart();try{if(!e){this.#s({type:"pending",variables:t,isPaused:a}),await this.#e.config.onMutate?.(t,this);const n=await this.options.onMutate?.(t);n!==this.state.context&&this.#s({type:"pending",context:n,variables:t,isPaused:a})}const s=await this.#i.start();return await this.#e.config.onSuccess?.(s,t,this.state.context,this),await this.options.onSuccess?.(s,t,this.state.context),await this.#e.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,t,this.state.context),this.#s({type:"success",data:s}),s}catch(s){try{throw await this.#e.config.onError?.(s,t,this.state.context,this),await this.options.onError?.(s,t,this.state.context),await this.#e.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,t,this.state.context),s}finally{this.#s({type:"error",error:s})}}finally{this.#e.runNext(this)}}#s(t){const e=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),y.j.batch(()=>{this.#t.forEach(a=>{a.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function u(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var d=class extends S.Q{constructor(t={}){super(),this.config=t,this.#t=new Map,this.#e=Date.now()}#t;#e;build(t,e,a){const s=new o({mutationCache:this,mutationId:++this.#e,options:t.defaultMutationOptions(e),state:a});return this.add(s),s}add(t){const e=O(t),a=this.#t.get(e)??[];a.push(t),this.#t.set(e,a),this.notify({type:"added",mutation:t})}remove(t){const e=O(t);if(this.#t.has(e)){const a=this.#t.get(e)?.filter(s=>s!==t);a&&(a.length===0?this.#t.delete(e):this.#t.set(e,a))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#t.get(O(t))?.find(a=>a.state.status==="pending");return!e||e===t}runNext(t){return this.#t.get(O(t))?.find(a=>a!==t&&a.state.isPaused)?.continue()??Promise.resolve()}clear(){y.j.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#t.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(a=>(0,h.nJ)(e,a))}findAll(t={}){return this.getAll().filter(e=>(0,h.nJ)(t,e))}notify(t){y.j.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return y.j.batch(()=>Promise.all(t.map(e=>e.continue().catch(h.lQ))))}};function O(t){return t.options.scope?.id??String(t.mutationId)}var P=f(22854),b=f(60631);function A(t){return{onFetch:(e,a)=>{const s=async()=>{const n=e.options,l=e.fetchOptions?.meta?.fetchMore?.direction,p=e.state.data?.pages||[],M=e.state.data?.pageParams||[],Q={pages:[],pageParams:[]};let j=!1;const L=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?j=!0:e.signal.addEventListener("abort",()=>{j=!0}),e.signal)})},B=(0,h.ZM)(e.options,e.fetchOptions),N=async(k,i,r)=>{if(j)return Promise.reject();if(i==null&&k.pages.length)return Promise.resolve(k);const v={queryKey:e.queryKey,pageParam:i,direction:r?"backward":"forward",meta:e.options.meta};L(v);const E=await B(v),{maxPages:I}=e.options,U=r?h.ZZ:h.y9;return{pages:U(k.pages,E,I),pageParams:U(k.pageParams,i,I)}};let D;if(l&&p.length){const k=l==="backward",i=k?_:c,r={pages:p,pageParams:M},v=i(n,r);D=await N(r,v,k)}else{D=await N(Q,M[0]??n.initialPageParam);const k=t??p.length;for(let i=1;i<k;i++){const r=c(n,D);D=await N(D,r)}}return D};e.options.persister?e.fetchFn=()=>e.options.persister?.(s,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},a):e.fetchFn=s}}}function c(t,{pages:e,pageParams:a}){const s=e.length-1;return t.getNextPageParam(e[s],e,a[s],a)}function _(t,{pages:e,pageParams:a}){return t.getPreviousPageParam?.(e[0],e,a[0],a)}function z(t,e){return e?c(t,e)!=null:!1}function J(t,e){return!e||!t.getPreviousPageParam?!1:_(t,e)!=null}var $=class{#t;#e;#i;#s;#a;#n;#r;#o;constructor(t={}){this.#t=t.queryCache||new m,this.#e=t.mutationCache||new d,this.#i=t.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#n=0}mount(){this.#n++,this.#n===1&&(this.#r=P.m.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#o=b.t.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#n--,this.#n===0&&(this.#r?.(),this.#r=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const a=this.defaultQueryOptions(t),s=this.#t.build(this,a);return t.revalidateIfStale&&s.isStaleByTime(a.staleTime)&&this.prefetchQuery(a),Promise.resolve(e)}}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:a})=>{const s=a.data;return[e,s]})}setQueryData(t,e,a){const s=this.defaultQueryOptions({queryKey:t}),l=this.#t.get(s.queryHash)?.state.data,p=(0,h.Zw)(e,l);if(p!==void 0)return this.#t.build(this,s).setData(p,{...a,manual:!0})}setQueriesData(t,e,a){return y.j.batch(()=>this.#t.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,a)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;y.j.batch(()=>{e.findAll(t).forEach(a=>{e.remove(a)})})}resetQueries(t,e){const a=this.#t,s={type:"active",...t};return y.j.batch(()=>(a.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries(s,e)))}cancelQueries(t={},e={}){const a={revert:!0,...e},s=y.j.batch(()=>this.#t.findAll(t).map(n=>n.cancel(a)));return Promise.all(s).then(h.lQ).catch(h.lQ)}invalidateQueries(t={},e={}){return y.j.batch(()=>{if(this.#t.findAll(t).forEach(s=>{s.invalidate()}),t.refetchType==="none")return Promise.resolve();const a={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(a,e)})}refetchQueries(t={},e){const a={...e,cancelRefetch:e?.cancelRefetch??!0},s=y.j.batch(()=>this.#t.findAll(t).filter(n=>!n.isDisabled()).map(n=>{let l=n.fetch(void 0,a);return a.throwOnError||(l=l.catch(h.lQ)),n.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(s).then(h.lQ)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const a=this.#t.build(this,e);return a.isStaleByTime(e.staleTime)?a.fetch(e):Promise.resolve(a.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(h.lQ).catch(h.lQ)}fetchInfiniteQuery(t){return t.behavior=A(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(h.lQ).catch(h.lQ)}resumePausedMutations(){return b.t.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#i}setDefaultOptions(t){this.#i=t}setQueryDefaults(t,e){this.#s.set((0,h.EN)(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()];let a={};return e.forEach(s=>{(0,h.Cp)(t,s.queryKey)&&(a={...a,...s.defaultOptions})}),a}setMutationDefaults(t,e){this.#a.set((0,h.EN)(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#a.values()];let a={};return e.forEach(s=>{(0,h.Cp)(t,s.mutationKey)&&(a={...a,...s.defaultOptions})}),a}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#i.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=(0,h.F$)(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===h.hT&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#i.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}}},22854:(x,w,f)=>{f.d(w,{m:()=>S});var h=f(608),R=f(68804),y=class extends h.Q{#t;#e;#i;constructor(){super(),this.#i=m=>{if(!R.S$&&window.addEventListener){const g=()=>m();return window.addEventListener("visibilitychange",g,!1),()=>{window.removeEventListener("visibilitychange",g)}}}}onSubscribe(){this.#e||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(m){this.#i=m,this.#e?.(),this.#e=m(g=>{typeof g=="boolean"?this.setFocused(g):this.onFocus()})}setFocused(m){this.#t!==m&&(this.#t=m,this.onFocus())}onFocus(){const m=this.isFocused();this.listeners.forEach(g=>{g(m)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},S=new y},36904:(x,w,f)=>{f.d(w,{k:()=>R});var h=f(68804),R=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,h.gn)(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(y){this.gcTime=Math.max(this.gcTime||0,y??(h.S$?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}}},47626:(x,w,f)=>{var h;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R=f(9732),y=Symbol.for("react.element"),S=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,g=R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C={key:!0,ref:!0,__self:!0,__source:!0};function o(u,d,O){var P,b={},A=null,c=null;O!==void 0&&(A=""+O),d.key!==void 0&&(A=""+d.key),d.ref!==void 0&&(c=d.ref);for(P in d)m.call(d,P)&&!C.hasOwnProperty(P)&&(b[P]=d[P]);if(u&&u.defaultProps)for(P in d=u.defaultProps,d)b[P]===void 0&&(b[P]=d[P]);return{$$typeof:y,type:u,key:A,ref:c,props:b,_owner:g.current}}h=S,w.jsx=o,h=o},53666:(x,w,f)=>{x.exports=f(47626)},60631:(x,w,f)=>{f.d(w,{t:()=>S});var h=f(608),R=f(68804),y=class extends h.Q{#t=!0;#e;#i;constructor(){super(),this.#i=m=>{if(!R.S$&&window.addEventListener){const g=()=>m(!0),C=()=>m(!1);return window.addEventListener("online",g,!1),window.addEventListener("offline",C,!1),()=>{window.removeEventListener("online",g),window.removeEventListener("offline",C)}}}}onSubscribe(){this.#e||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(m){this.#i=m,this.#e?.(),this.#e=m(this.setOnline.bind(this))}setOnline(m){this.#t!==m&&(this.#t=m,this.listeners.forEach(C=>{C(m)}))}isOnline(){return this.#t}},S=new y},68804:(x,w,f)=>{f.d(w,{Cp:()=>d,EN:()=>u,F$:()=>o,MK:()=>g,S$:()=>h,ZM:()=>a,ZZ:()=>t,Zw:()=>y,f8:()=>P,gn:()=>S,hT:()=>e,j3:()=>m,lQ:()=>R,nJ:()=>C,pl:()=>z,y9:()=>$,yy:()=>_});var h=typeof window>"u"||"Deno"in globalThis;function R(){}function y(s,n){return typeof s=="function"?s(n):s}function S(s){return typeof s=="number"&&s>=0&&s!==1/0}function m(s,n){return Math.max(s+(n||0)-Date.now(),0)}function g(s,n){const{type:l="all",exact:p,fetchStatus:M,predicate:Q,queryKey:j,stale:L}=s;if(j){if(p){if(n.queryHash!==o(j,n.options))return!1}else if(!d(n.queryKey,j))return!1}if(l!=="all"){const B=n.isActive();if(l==="active"&&!B||l==="inactive"&&B)return!1}return!(typeof L=="boolean"&&n.isStale()!==L||M&&M!==n.state.fetchStatus||Q&&!Q(n))}function C(s,n){const{exact:l,status:p,predicate:M,mutationKey:Q}=s;if(Q){if(!n.options.mutationKey)return!1;if(l){if(u(n.options.mutationKey)!==u(Q))return!1}else if(!d(n.options.mutationKey,Q))return!1}return!(p&&n.state.status!==p||M&&!M(n))}function o(s,n){return(n?.queryKeyHashFn||u)(s)}function u(s){return JSON.stringify(s,(n,l)=>A(l)?Object.keys(l).sort().reduce((p,M)=>(p[M]=l[M],p),{}):l)}function d(s,n){return s===n?!0:typeof s!=typeof n?!1:s&&n&&typeof s=="object"&&typeof n=="object"?!Object.keys(n).some(l=>!d(s[l],n[l])):!1}function O(s,n){if(s===n)return s;const l=b(s)&&b(n);if(l||A(s)&&A(n)){const p=l?s:Object.keys(s),M=p.length,Q=l?n:Object.keys(n),j=Q.length,L=l?[]:{};let B=0;for(let N=0;N<j;N++){const D=l?N:Q[N];(!l&&p.includes(D)||l)&&s[D]===void 0&&n[D]===void 0?(L[D]=void 0,B++):(L[D]=O(s[D],n[D]),L[D]===s[D]&&s[D]!==void 0&&B++)}return M===j&&B===M?s:L}return n}function P(s,n){if(!n||Object.keys(s).length!==Object.keys(n).length)return!1;for(const l in s)if(s[l]!==n[l])return!1;return!0}function b(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function A(s){if(!c(s))return!1;const n=s.constructor;if(n===void 0)return!0;const l=n.prototype;return!(!c(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function c(s){return Object.prototype.toString.call(s)==="[object Object]"}function _(s){return new Promise(n=>{setTimeout(n,s)})}function z(s,n,l){return typeof l.structuralSharing=="function"?l.structuralSharing(s,n):l.structuralSharing!==!1?O(s,n):n}function J(s){return s}function $(s,n,l=0){const p=[...s,n];return l&&p.length>l?p.slice(1):p}function t(s,n,l=0){const p=[n,...s];return l&&p.length>l?p.slice(0,-1):p}var e=Symbol(),a=(s,n)=>!s.queryFn&&n?.initialPromise?()=>n.initialPromise:!s.queryFn||s.queryFn===e?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn},73729:(x,w,f)=>{f.d(w,{j:()=>R});function h(){let y=[],S=0,m=c=>{c()},g=c=>{c()},C=c=>setTimeout(c,0);const o=c=>{C=c},u=c=>{let _;S++;try{_=c()}finally{S--,S||P()}return _},d=c=>{S?y.push(c):C(()=>{m(c)})},O=c=>(..._)=>{d(()=>{c(..._)})},P=()=>{const c=y;y=[],c.length&&C(()=>{g(()=>{c.forEach(_=>{m(_)})})})};return{batch:u,batchCalls:O,schedule:d,setNotifyFunction:c=>{m=c},setBatchNotifyFunction:c=>{g=c},setScheduler:o}}var R=h()},78604:(x,w,f)=>{f.d(w,{II:()=>o,v_:()=>m,wm:()=>C});var h=f(22854),R=f(60631),y=f(68804);function S(u){return Math.min(1e3*2**u,3e4)}function m(u){return(u??"online")==="online"?R.t.isOnline():!0}var g=class{constructor(u){this.revert=u?.revert,this.silent=u?.silent}};function C(u){return u instanceof g}function o(u){let d=!1,O=0,P=!1,b,A,c;const _=new Promise((p,M)=>{A=p,c=M}),z=p=>{P||(s(new g(p)),u.abort?.())},J=()=>{d=!0},$=()=>{d=!1},t=()=>h.m.isFocused()&&(u.networkMode==="always"||R.t.isOnline())&&u.canRun(),e=()=>m(u.networkMode)&&u.canRun(),a=p=>{P||(P=!0,u.onSuccess?.(p),b?.(),A(p))},s=p=>{P||(P=!0,u.onError?.(p),b?.(),c(p))},n=()=>new Promise(p=>{b=M=>{(P||t())&&p(M)},u.onPause?.()}).then(()=>{b=void 0,P||u.onContinue?.()}),l=()=>{if(P)return;let p;const M=O===0?u.initialPromise:void 0;try{p=M??u.fn()}catch(Q){p=Promise.reject(Q)}Promise.resolve(p).then(a).catch(Q=>{if(P)return;const j=u.retry??(y.S$?0:3),L=u.retryDelay??S,B=typeof L=="function"?L(O,Q):L,N=j===!0||typeof j=="number"&&O<j||typeof j=="function"&&j(O,Q);if(d||!N){s(Q);return}O++,u.onFail?.(O,Q),(0,y.yy)(B).then(()=>t()?void 0:n()).then(()=>{d?s(Q):l()})})};return{promise:_,cancel:z,continue:()=>(b?.(),_),cancelRetry:J,continueRetry:$,canStart:e,start:()=>(e()?l():n().then(l),_)}}},93377:(x,w,f)=>{f.d(w,{Ht:()=>m,jE:()=>S});var h=f(9732),R=f(53666),y=h.createContext(void 0),S=g=>{const C=h.useContext(y);if(g)return g;if(!C)throw new Error("No QueryClient set, use QueryClientProvider to set one");return C},m=({client:g,children:C})=>(h.useEffect(()=>(g.mount(),()=>{g.unmount()}),[g]),(0,R.jsx)(y.Provider,{value:g,children:C}))},93503:(x,w,f)=>{f.d(w,{I:()=>k});var h=f(68804),R=f(73729),y=f(22854),S=f(608),m=f(98697),g=class extends S.Q{constructor(i,r){super(),this.options=r,this.#t=i,this.#r=null,this.bindMethods(),this.setOptions(r)}#t;#e=void 0;#i=void 0;#s=void 0;#a;#n;#r;#o;#f;#d;#h;#c;#u;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),o(this.#e,this.options)?this.#l():this.updateResult(),this.#g())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return u(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return u(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#O(),this.#e.removeObserver(this)}setOptions(i,r){const v=this.options,E=this.#e;if(this.options=this.#t.defaultQueryOptions(i),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.#P(),this.#e.setOptions(this.options),v._defaulted&&!(0,h.f8)(this.options,v)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const I=this.hasListeners();I&&d(this.#e,E,this.options,v)&&this.#l(),this.updateResult(r),I&&(this.#e!==E||this.options.enabled!==v.enabled||this.options.staleTime!==v.staleTime)&&this.#y();const U=this.#v();I&&(this.#e!==E||this.options.enabled!==v.enabled||U!==this.#u)&&this.#m(U)}getOptimisticResult(i){const r=this.#t.getQueryCache().build(this.#t,i),v=this.createResult(r,i);return P(this,v)&&(this.#s=v,this.#n=this.options,this.#a=this.#e.state),v}getCurrentResult(){return this.#s}trackResult(i,r){const v={};return Object.keys(i).forEach(E=>{Object.defineProperty(v,E,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(E),r?.(E),i[E])})}),v}trackProp(i){this.#p.add(i)}getCurrentQuery(){return this.#e}refetch({...i}={}){return this.fetch({...i})}fetchOptimistic(i){const r=this.#t.defaultQueryOptions(i),v=this.#t.getQueryCache().build(this.#t,r);return v.isFetchingOptimistic=!0,v.fetch().then(()=>this.createResult(v,r))}fetch(i){return this.#l({...i,cancelRefetch:i.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#l(i){this.#P();let r=this.#e.fetch(this.options,i);return i?.throwOnError||(r=r.catch(h.lQ)),r}#y(){if(this.#b(),h.S$||this.#s.isStale||!(0,h.gn)(this.options.staleTime))return;const r=(0,h.j3)(this.#s.dataUpdatedAt,this.options.staleTime)+1;this.#h=setTimeout(()=>{this.#s.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#m(i){this.#O(),this.#u=i,!(h.S$||this.options.enabled===!1||!(0,h.gn)(this.#u)||this.#u===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||y.m.isFocused())&&this.#l()},this.#u))}#g(){this.#y(),this.#m(this.#v())}#b(){this.#h&&(clearTimeout(this.#h),this.#h=void 0)}#O(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(i,r){const v=this.#e,E=this.options,I=this.#s,U=this.#a,T=this.#n,W=i!==v?i.state:this.#i,{state:G}=i;let F={...G},et=!1,q;if(r._optimisticResults){const H=this.hasListeners(),tt=!H&&o(i,r),at=H&&d(i,v,r,E);(tt||at)&&(F={...F,...(0,m.k)(G.data,i.options)}),r._optimisticResults==="isRestoring"&&(F.fetchStatus="idle")}let{error:st,errorUpdatedAt:it,status:Z}=F;if(r.select&&F.data!==void 0)if(I&&F.data===U?.data&&r.select===this.#o)q=this.#f;else try{this.#o=r.select,q=r.select(F.data),q=(0,h.pl)(I?.data,q,r),this.#f=q,this.#r=null}catch(H){this.#r=H}else q=F.data;if(r.placeholderData!==void 0&&q===void 0&&Z==="pending"){let H;if(I?.isPlaceholderData&&r.placeholderData===T?.placeholderData)H=I.data;else if(H=typeof r.placeholderData=="function"?r.placeholderData(this.#d?.state.data,this.#d):r.placeholderData,r.select&&H!==void 0)try{H=r.select(H),this.#r=null}catch(tt){this.#r=tt}H!==void 0&&(Z="success",q=(0,h.pl)(I?.data,H,r),et=!0)}this.#r&&(st=this.#r,q=this.#f,it=Date.now(),Z="error");const V=F.fetchStatus==="fetching",X=Z==="pending",Y=Z==="error",rt=X&&V,nt=q!==void 0;return{status:Z,fetchStatus:F.fetchStatus,isPending:X,isSuccess:Z==="success",isError:Y,isInitialLoading:rt,isLoading:rt,data:q,dataUpdatedAt:F.dataUpdatedAt,error:st,errorUpdatedAt:it,failureCount:F.fetchFailureCount,failureReason:F.fetchFailureReason,errorUpdateCount:F.errorUpdateCount,isFetched:F.dataUpdateCount>0||F.errorUpdateCount>0,isFetchedAfterMount:F.dataUpdateCount>W.dataUpdateCount||F.errorUpdateCount>W.errorUpdateCount,isFetching:V,isRefetching:V&&!X,isLoadingError:Y&&!nt,isPaused:F.fetchStatus==="paused",isPlaceholderData:et,isRefetchError:Y&&nt,isStale:O(i,r),refetch:this.refetch}}updateResult(i){const r=this.#s,v=this.createResult(this.#e,this.options);if(this.#a=this.#e.state,this.#n=this.options,this.#a.data!==void 0&&(this.#d=this.#e),(0,h.f8)(v,r))return;this.#s=v;const E={},I=()=>{if(!r)return!0;const{notifyOnChangeProps:U}=this.options,T=typeof U=="function"?U():U;if(T==="all"||!T&&!this.#p.size)return!0;const K=new Set(T??this.#p);return this.options.throwOnError&&K.add("error"),Object.keys(this.#s).some(W=>{const G=W;return this.#s[G]!==r[G]&&K.has(G)})};i?.listeners!==!1&&I()&&(E.listeners=!0),this.#E({...E,...i})}#P(){const i=this.#t.getQueryCache().build(this.#t,this.options);if(i===this.#e)return;const r=this.#e;this.#e=i,this.#i=i.state,this.hasListeners()&&(r?.removeObserver(this),i.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#g()}#E(i){R.j.batch(()=>{i.listeners&&this.listeners.forEach(r=>{r(this.#s)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function C(i,r){return r.enabled!==!1&&i.state.data===void 0&&!(i.state.status==="error"&&r.retryOnMount===!1)}function o(i,r){return C(i,r)||i.state.data!==void 0&&u(i,r,r.refetchOnMount)}function u(i,r,v){if(r.enabled!==!1){const E=typeof v=="function"?v(i):v;return E==="always"||E!==!1&&O(i,r)}return!1}function d(i,r,v,E){return(i!==r||E.enabled===!1)&&(!v.suspense||i.state.status!=="error")&&O(i,v)}function O(i,r){return r.enabled!==!1&&i.isStaleByTime(r.staleTime)}function P(i,r){return!(0,h.f8)(i.getCurrentResult(),r)}var b=f(9732),A=f(53666);function c(){let i=!1;return{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i}}var _=b.createContext(c()),z=()=>b.useContext(_),J=({children:i})=>{const[r]=React.useState(()=>c());return jsx(_.Provider,{value:r,children:typeof i=="function"?i(r):i})},$=f(93377),t=b.createContext(!1),e=()=>b.useContext(t),a=t.Provider;function s(i,r){return typeof i=="function"?i(...r):!!i}function n(){}var l=(i,r)=>{(i.suspense||i.throwOnError)&&(r.isReset()||(i.retryOnMount=!1))},p=i=>{b.useEffect(()=>{i.clearReset()},[i])},M=({result:i,errorResetBoundary:r,throwOnError:v,query:E})=>i.isError&&!r.isReset()&&!i.isFetching&&E&&s(v,[i.error,E]),Q=(i,r)=>r.state.data===void 0,j=i=>{i.suspense&&typeof i.staleTime!="number"&&(i.staleTime=1e3)},L=(i,r)=>i.isLoading&&i.isFetching&&!r,B=(i,r)=>i?.suspense&&r.isPending,N=(i,r,v)=>r.fetchOptimistic(i).catch(()=>{v.clearReset()});function D(i,r,v){const E=(0,$.jE)(v),I=e(),U=z(),T=E.defaultQueryOptions(i);T._optimisticResults=I?"isRestoring":"optimistic",j(T),l(T,U),p(U);const[K]=b.useState(()=>new r(E,T)),W=K.getOptimisticResult(T);if(b.useSyncExternalStore(b.useCallback(G=>{const F=I?()=>{}:K.subscribe(R.j.batchCalls(G));return K.updateResult(),F},[K,I]),()=>K.getCurrentResult(),()=>K.getCurrentResult()),b.useEffect(()=>{K.setOptions(T,{listeners:!1})},[T,K]),B(T,W))throw N(T,K,U);if(M({result:W,errorResetBoundary:U,throwOnError:T.throwOnError,query:E.getQueryCache().get(T.queryHash)}))throw W.error;return T.notifyOnChangeProps?W:K.trackResult(W)}function k(i,r){return D(i,g,r)}},98697:(x,w,f)=>{f.d(w,{X:()=>m,k:()=>g});var h=f(68804),R=f(73729),y=f(78604),S=f(36904),m=class extends S.k{#t;#e;#i;#s;#a;#n;constructor(o){super(),this.#n=!1,this.#a=o.defaultOptions,this.setOptions(o.options),this.observers=[],this.#i=o.cache,this.queryKey=o.queryKey,this.queryHash=o.queryHash,this.#t=o.state||C(this.options),this.state=this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(o){this.options={...this.#a,...o},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#i.remove(this)}setData(o,u){const d=(0,h.pl)(this.state.data,o,this.options);return this.#r({data:d,type:"success",dataUpdatedAt:u?.updatedAt,manual:u?.manual}),d}setState(o,u){this.#r({type:"setState",state:o,setStateOptions:u})}cancel(o){const u=this.#s?.promise;return this.#s?.cancel(o),u?u.then(h.lQ).catch(h.lQ):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(o=>o.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(o=>o.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(o=0){return this.state.isInvalidated||this.state.data===void 0||!(0,h.j3)(this.state.dataUpdatedAt,o)}onFocus(){this.observers.find(u=>u.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(u=>u.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(o){this.observers.includes(o)||(this.observers.push(o),this.clearGcTimeout(),this.#i.notify({type:"observerAdded",query:this,observer:o}))}removeObserver(o){this.observers.includes(o)&&(this.observers=this.observers.filter(u=>u!==o),this.observers.length||(this.#s&&(this.#n?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#i.notify({type:"observerRemoved",query:this,observer:o}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}fetch(o,u){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&u?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(o&&this.setOptions(o),!this.options.queryFn){const c=this.observers.find(_=>_.options.queryFn);c&&this.setOptions(c.options)}const d=new AbortController,O=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#n=!0,d.signal)})},P=()=>{const c=(0,h.ZM)(this.options,u),_={queryKey:this.queryKey,meta:this.meta};return O(_),this.#n=!1,this.options.persister?this.options.persister(c,_,this):c(_)},b={fetchOptions:u,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:P};O(b),this.options.behavior?.onFetch(b,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==b.fetchOptions?.meta)&&this.#r({type:"fetch",meta:b.fetchOptions?.meta});const A=c=>{(0,y.wm)(c)&&c.silent||this.#r({type:"error",error:c}),(0,y.wm)(c)||(this.#i.config.onError?.(c,this),this.#i.config.onSettled?.(this.state.data,c,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.#s=(0,y.II)({initialPromise:u?.initialPromise,fn:b.fetchFn,abort:d.abort.bind(d),onSuccess:c=>{if(c===void 0){A(new Error(`${this.queryHash} data is undefined`));return}this.setData(c),this.#i.config.onSuccess?.(c,this),this.#i.config.onSettled?.(c,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:A,onFail:(c,_)=>{this.#r({type:"failed",failureCount:c,error:_})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:b.options.retry,retryDelay:b.options.retryDelay,networkMode:b.options.networkMode,canRun:()=>!0}),this.#s.start()}#r(o){const u=d=>{switch(o.type){case"failed":return{...d,fetchFailureCount:o.failureCount,fetchFailureReason:o.error};case"pause":return{...d,fetchStatus:"paused"};case"continue":return{...d,fetchStatus:"fetching"};case"fetch":return{...d,...g(d.data,this.options),fetchMeta:o.meta??null};case"success":return{...d,data:o.data,dataUpdateCount:d.dataUpdateCount+1,dataUpdatedAt:o.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!o.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const O=o.error;return(0,y.wm)(O)&&O.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...d,error:O,errorUpdateCount:d.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:d.fetchFailureCount+1,fetchFailureReason:O,fetchStatus:"idle",status:"error"};case"invalidate":return{...d,isInvalidated:!0};case"setState":return{...d,...o.state}}};this.state=u(this.state),R.j.batch(()=>{this.observers.forEach(d=>{d.onQueryUpdate()}),this.#i.notify({query:this,type:"updated",action:o})})}};function g(o,u){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,y.v_)(u.networkMode)?"fetching":"paused",...o===void 0&&{error:null,status:"pending"}}}function C(o){const u=typeof o.initialData=="function"?o.initialData():o.initialData,d=u!==void 0,O=d?typeof o.initialDataUpdatedAt=="function"?o.initialDataUpdatedAt():o.initialDataUpdatedAt:0;return{data:u,dataUpdateCount:0,dataUpdatedAt:d?O??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:d?"success":"pending",fetchStatus:"idle"}}}}]);
