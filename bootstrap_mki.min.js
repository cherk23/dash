/* Some or all contents Copyright (c) 2010-2025 Cisco Systems, Inc., all rights reserved */
!function(s){window.bootstrap={},bootstrap.make_alert=function(t){var a=s("<div/>",{class:"alert"}).addClass(t.type||"").html(t.html);return t.close&&a.prepend('<a class="close" data-dismiss="alert" href="#" style="position:static">&times;</a>'),a},jQuery.fn.resize_modal=function(t){var a,e,o,n,d,s,i,l=$j(this);l.hasClass("modal")&&(a=t.height,e=t.width,o=t.min_height||a,n=t.min_width||e,d=.8*(i=$j(window)).height(),s=.8*i.width(),t=l.find(".modal-footer"),i=l.find(".modal-body"),a&&(a=Math.min(Math.max(a,o),d),l.height(a),l.css("margin-top",-a/2),i.css("max-height",a-l.find(".modal-header").outerHeight()-t.outerHeight()-i.outerHeight()+i.height()),t.css({position:"absolute",bottom:0,left:0,right:0})),e&&(e=Math.min(Math.max(e,n),s),l.width(e-i.outerWidth()+i.width()),l.css("margin-left",-e/2)))},bootstrap.make_modal=function(t,a,e,o){e=e||[];var n=s("<div class='modal fade' role='dialog'>"),d=s("<div class='modal-dialog'>");o&&d.addClass("modal-lg");o=s("<div class='modal-content'>");t&&(t=s("<div class='modal-header'><h3>"+t+"</h3></div>").appendTo(o),s("<button type='button' class='close' data-dismiss='modal'>x</button>").prependTo(t)),s("<div class='modal-body'>").html(a).appendTo(o);a=s("<div class='modal-footer'>").appendTo(o);return s("<button class='btn btn-default' data-dismiss='modal'>Close</button>").appendTo(a),_(e).contains("save")&&(s("<div class='alert alert-warning xhr_status'>").prependTo(a),s("<div class='alert alert-danger'>").prependTo(a),s("<button class='btn btn-primary save'>Save</button>").appendTo(a)),d.append(o).appendTo(n),n},bootstrap.make_dropdown_widget=function(t){var a=s("<div>").addClass("btn-group "+t.klass);return s("<a href='#' data-toggle='dropdown'>"+t.title+" <span class='"+(t.caret_class||"caret")+"'></span></a>").addClass("btn btn-default dropdown-toggle").dropdown().appendTo(a),s("<div>").addClass("dropdown-widget "+t.wdg_class).html(t.content).appendTo(a),a},s.fn.drop_widget=function(t){return s(this).each(function(){function a(t){t&&s(t.target).closest(".drop-widget-menu, .calendar").is("*")||(o.hide().appendTo(e),e.removeClass("open"),s("html").off("click.drop-widget",a))}var e,o,n;e=s(this),o=e.children("div"),n=e.children(".dropdown-toggle"),e.find(".dropdown-toggle").click(function(){if(e.hasClass("open"))return a(),!1;s("html").trigger("click.drop_widget");var t=n.offset();return o.css("top",t.top+n.outerHeight()),e.hasClass("right")?o.css("right",s(window).width()-t.left-n.outerWidth()):o.css("left",t.left),o.appendTo("body").show(),s("html").on("click.drop_widget",a),e.addClass("open"),!1}),o.data("set_text",function(t){n.children("span:first-child").text(t)}),e.data("widget",o)})},s.fn.set_dropdown_selected=function(t){var a=jQuery(this),e=a.find("a").removeClass("selected").filter(function(){return jQuery(this).attr("val")==t});e.length&&(a.removeClass("open").find(".btn span:first-child").html(e.html()),e.addClass("selected"))},s.fn.dropdown_select=function(t){var e=s(this);function a(t){var a=e.find("a:not(.btn)").filter(function(){return jQuery(this).attr("val")==t});a.length||(log_error("bootstrap_mki: couldn't set value because it's not an option"),a=e.find("a:not(.btn)").first(),t=a.attr("val")),e.removeClass("open").find(".btn span:first-child").html(a.html()),(e.data("dropdown_select_callback")||s.noop).call(e,t)}return"function"==typeof t?(e.data("dropdown_select_callback",t),e.off("click").on("click","a:not(.btn)",function(t){t.preventDefault(),a(s(this).attr("val"))})):a(t),this}}(jQuery);