/* Some or all contents Copyright (c) 2010-2025 Cisco Systems, Inc., all rights reserved */
!function(t){var r,_;function o(e){r.setData(e.data)}function n(e,t){e=CIDR(e.subnet),t=CIDR(t.subnet);return t.netmask_length()-e.netmask_length()!=0?t.netmask_length()-e.netmask_length():e.network.to_i()-t.network.to_i()}window.lt_route_table={},lt_route_table.init=function(e){t("#lt_route_table_tmpl").tmpl().appendTo(e),lt_route_table.stop(),_=t.comet.node_subscribe("RouteStates",o),r=new SearchFilter({filter:((e=make_smart_filter()).addkw({"":function(e,t,r,_){return[_.getkw("sourceid")(e,t,r,_),_.getkw("subnet")(e,t,r,_),_.getkw("nexthop")(e,t,r,_),_.getkw("sourcename")(e,t,r,_)].join("||")},subnet:e.simple_pm("subnet"),sourceid:function(e,t){t=make_smart_filter_match_ip_base_template(e,t);return null==t?"false":t.replace("%","lt_route_table.render_source_router_id(x)")},nexthop:function(e,t){t=make_smart_filter_match_ip_base_template(e,t);return null==t?"false":t.replace("%","lt_route_table.render_next_hop(x)")},sourcename:e.simple_pm("source_name")}),e),urlState:!1,searchbox:"#route_table_filter"}),function(){var e;e=lt_route_table.ospf_enabled?["subnet","static_gateway_ip","route_type","source_id","source_link"]:["subnet","static_gateway_ip","route_type"];make_flex_table({container:"#route_table",row_id_prefix:!0,row_num:!1,selected_fields:e,default_sort:"subnet",columns:{subnet:{l:"Subnet",sorter:n,dashhelp:"subnet"},static_gateway_ip:{l:"Next hop",render:"[%= lt_route_table.render_next_hop(item) %]"},route_type:{l:"Type",render:"[%= lt_route_table.render_route_type(item) %]"},source_id:{l:"Source router ID",render:"[%= lt_route_table.render_source_router_id(item) %]",dashhelp:"ospf_source_id"},source_link:{l:"Source switch",render:"[%= lt_route_table.render_source_link(item) %]",dashhelp:"ospf_source_name"},source_name:{disabled:!0}},items:[],className:"compact",footer:!0,items_per_page:10,items_per_page_options:[10,20,50,"All"],loading:!0,search_filter:r,no_items_html:"No routes found."})}()},lt_route_table.stop=function(){_&&_.stop()},lt_route_table.render_source_router_id=function(e){return e.source_router_identifier?CIDR.ip_i_to_s(e.source_router_identifier):""},lt_route_table.render_next_hop=function(e){return e.static_gateway_ip?CIDR.ip_i_to_s(e.static_gateway_ip):""},lt_route_table.render_source_link=function(e){return e.source_router_node_name&&e.source_router_node_id?'<a href="'+url_for_node(e.source_router_node_id)+'">'+e.source_router_node_name+"</a>":""},lt_route_table.render_route_type=function(e){switch(e.route_type){case"STATIC":return"Static";case"LOCAL_VLAN":return"Interface";case"OSPF":return"OSPF";case"STATIC_AUTO":return"Static (Auto-generated)";default:return""}}}(jQuery);