/* Some or all contents Copyright (c) 2010-2025 Cisco Systems, Inc., all rights reserved */
!function(n){var t,e;function _(){lt_text_ping.stop(),n("#text_ping_stop").show(),n("#text_ping_run").hide(),live_toolbox.set_tool_status(lt_text_ping,!0),n("#text_ping_textarea").text(""),e={host:n("#text_ping_host").val(),device:n("#text_ping_device").val(),count:n("#text_ping_count").val(),size:n("#text_ping_size").val()},t=n.comet.command_subscribe(n.extend({},e,{broker:"CommandStream",command:"ping"}),i)}function i(t){_=new Date,_=unparse_date(_,"%b %-d %H:%M:%S %Z"),n("#text_ping_last_fetched").text("Completed at "+_);var e=n("#text_ping_textarea"),_=t.data.chunk;_&&0<_.length&&(e.text(e.text()+_),e.scrollTop(e[0].scrollHeight)),t.data.completed&&lt_text_ping.stop()}window.lt_text_ping={},lt_text_ping.init=function(t){n("#lt_text_ping_tmpl").tmpl().appendTo(t),n("#text_ping_stop").hide(),n("#text_ping_run").click(_),n("#text_ping_stop").click(lt_text_ping.stop),dashhelp("text_ping_help","#lt_text_ping_header",{above:!0})},lt_text_ping.stop=function(){t&&t.stop(),t=null,live_toolbox.set_tool_status(lt_text_ping,!1),n("#text_ping_stop").hide(),n("#text_ping_run").show()}}(jQuery);