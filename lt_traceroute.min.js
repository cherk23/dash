/* Some or all contents Copyright (c) 2010-2025 Cisco Systems, Inc., all rights reserved */
!function(a){var e,t;function n(){if(!a("#new_trace_host").val())return!1;lt_trace.stop(),a("#trace_details").html(""),e.find(".spinner").show(),live_toolbox.set_tool_status(lt_trace,!0),t=a.comet.command_subscribe({broker:"CommandStream",command:"traceroute",host:_.escape(a("#new_trace_host").val())},o)}function o(t){var e;t.data.chunk&&(e=t.data.chunk.replace("\n","<br/>").replace(/ /g,"&nbsp;"),a("#trace_details").append(e)),t.data.completed&&lt_trace.stop()}window.lt_trace={},lt_trace.init=function(t){e=a("#lt_trace_tmpl").tmpl().appendTo(t),a("#new_trace_run").click(n),a("#new_trace_host").enterKey(n)},lt_trace.stop=function(){t&&t.stop(),e.find(".spinner").hide(),live_toolbox.set_tool_status(lt_trace,!1)}}(jQuery);