/* Some or all contents Copyright (c) 2010-2025 Cisco Systems, Inc., all rights reserved */
initialize_search_highlight=function(c){var d,g=null,p="search",m="hover",b="check";function i(e){(checkbox3.nchecked?g:g!=e)&&graph_network_use()}function r(e){return e?(e=Mkijson.c[e])&&e.cuseblocks?50:250:100}function x(){return flex_table.hover_item_id()}function v(e,i){var r,t,a=flex_table.items(!0),o=[];for(void 0===i&&(i=16),r=0;r<a.length&&a[r].id!=e;++r);for(r-=r%i,t=0;t<i;++t,++r)a[r]&&o.push(a[r].id);return o}function w(){var e,i=[];if(checkbox3.nchecked)for(e in checkbox3.checked)i.push(checkbox3.checked[e]);return i}function y(){return search_filter.allMatched()?[]:search_filter.results}function t(e,i,l,r){var t,a,h,c,u,o,s,n,_,f;function k(e,i){var r,t,a,o=[],s=[0,0],n=!0;if(!l.meraki_hinfo[i]){if(30<e.length){for(a=[],r=e.length-1;0<=r;--r)t=e[r],a.push(t.id),vector_add(s,t.usage);(t=data3_load.aggobject(c.charAt(0),a))&&t.data[c]?blockseries_add(o,t.data[c]):n=f(h.t0,h.t1,a,i)}else for(r=e.length-1;0<=r;--r)t=e[r],vector_add(s,t.usage),(a=t[c])?(blockseries_add(o,a),(a=t[u])&&(n=f(a[0],a[1],t.id,i))):n=f(h.t0,h.t1,t.id,i);l.meraki_hinfo[i]=a={useblocks:o,utotals:s,complete:n},i!=p&&i!=b||(a.summaryspan="<span style='border-bottom:2px solid "+mkigraph.highlight_line_color[i]+";font-style:italic'>"+(i==b?"Checked":"Matches")+":</span>")}}if(t=Mkiconf.usage?"c":"n",a=Mkijson[t],h=a.meta,u=(c=t+"useblocks")+"_missing",l.meraki_hinfo=l.meraki_hinfo||{},f=(n=l.usage_loader)?n.prepare(t,c):function(){return!1},"c"!=t||"undefined"==typeof search_filter||d||($j(search_filter).on("change:results",graph_network_use),d=!0),y().length&&k(y(),p),g=null,w().length)k(w(),b);else if(x()&&(o=a.hash[x()]))if(o[c])k([o],m),g=x();else for(s in flex_table.items(!0),_=v(o.id))a.hash[_[s]]&&!a.hash[_[s]][c]&&f&&f(h.t0,h.t1,_[s],m)}function a(e,i,r,t){var a,o,s,n=r.meraki_hinfo||{},l=r.xaxis.min/1e3,h=r.xaxis.max/1e3;for(a in n)(o=n[a])&&o.useblocks&&(o.totals=[0,0],s=useblocks_graphseries(o.useblocks,l,h,o.totals),i.push({data:s,color:mkigraph.highlight_line_color[a],lines:{fill:!0,fillColor:mkigraph.highlight_fill_color[a]}}));r="",(n[p]||n[b])&&(o=n[a=n[b]?b:p][n[a].complete?"totals":"utotals"])&&(r=" <span class='barsep'>|</span> "+n[a].summaryspan+" "+unparse_kb_pair(o[0],o[1],"h")),c("#transferreds_highlight_summary_span").html(r)}return function(e){e&&(e.row_hover=i,e.row_hover_timeout=r),checkbox3.bind(graph_network_use),mkigraph.add_plugin("network_useblocks",t,100),mkigraph.add_plugin("network_useblocks",a,900)}}(jQuery);