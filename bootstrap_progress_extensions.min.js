/* Some or all contents Copyright (c) 2010-2025 Cisco Systems, Inc., all rights reserved */
!function(a){function i(t,s,e,i){this.init(t,s,e,i)}i.INTERVAL_MS=200,a.extend(i.prototype,{init:function(t,s,e,i){this.locals={time:1e3*s,start_percent:e,end_percent:i,progress_element:a(t),running:!0},this.start()},start:function(){this.locals.start_time=(new Date).getTime(),this.locals.end_time=this.locals.start_time+this.locals.time,this.locals.timer=window.setInterval(a.proxy(this.step,this),i.INTERVAL_MS),this.step()},step:function(){var t;this.locals.running&&(this.locals.current_percent>=this.locals.end_percent?this.finish():(t=((new Date).getTime()-this.locals.start_time)/(this.locals.end_time-this.locals.start_time),this.locals.current_percent=this.locals.start_percent+Math.floor(t*(this.locals.end_percent-this.locals.start_percent)),this.locals.progress_element.bootstrap_progressbar({value:this.locals.current_percent,_timing:!0})))},finish:function(){this.locals.running=!1,this.locals.timer&&window.clearInterval(this.locals.timer),this.locals.progress_element.bootstrap_progressbar({value:this.locals.end_percent,_timing:!0})},cancel:function(){this.locals.running=!1,this.locals.timer&&window.clearInterval(this.locals.timer)}}),a.fn.bootstrap_progressbar=function(t){var s,e=this.data("bp_timer");return t.cancel?(e&&e.cancel(),this.data("bp_value",0)):t.duration?(e&&e.cancel(),(s=void 0===t.start?this.data("bp_value")||0:t.start)>t.value&&(s=0),e=new i(this,t.duration,s,t.value),this.data("bp_timer",e)):(e&&!t._timing&&e.cancel(),this.children(".bar").first().css("width",parseInt(t.value)+"%"),this.data("bp_value",t.value),this.data("active-until-complete")&&(this.hasClass("active")&&100<=t.value?this.removeClass("active"):!this.hasClass("active")&&t.value<100&&this.addClass("active"))),this}}(jQuery);