/* Some or all contents Copyright (c) 2010-2025 Cisco Systems, Inc., all rights reserved */
!function(s){window.lt_clients={};var e,n,i,t,l;function _(){e.hide(),n.show(),live_toolbox.set_tool_status(lt_clients,!0),t=s.comet.node_subscribe("WirelessClients",function(t){var e=t.data&&t.data.length,n=e?null:"No client devices are currently associated.";s.each(t.data,function(t,e){e.description$=human_sortable_string(e.description)}),i.filter(t.data,n),s("#client_count").text(e?"("+t.data.length+")":""),s.each(t.data,function(t,e){Mkijson.c.hash[e.id]=e})}),node.iswd?(s("#current_usage_hdr").remove(),s("#current_usage").remove()):(l3_nodes.render_if_stats_init(0),l=s.comet.node_subscribe("InterfaceStats",function(t){l3_nodes.render_if_stats(t.data),s("#current_usage").is(":hidden")||l3_nodes.graph_current_usage()}))}lt_clients.init=function(t){s("#lt_current_tmpl").tmpl().appendTo(t.css("max-width","1400px")),e=s("#client_run").click(_),n=s("#client_stop").click(lt_clients.stop),dashhelp("current_clients_description","#client_help"),$j("#current_clients").on("click","a.ping",function(t){return lt_ping.make_new_ping($j(t.target).data("mac")),!1}),i=function(){usage_list3_load.table_options.columns.amt_xfrd_left||(usage_list3_load.table_options.columns.amt_xfrd_left=s.extend({},usage_list3_load.table_options.columns.amt_xfrd,{align:"left"}));return make_flex_table({loading:!0,container:"#current_clients",className:"compact fill",columns:usage_list3_load.table_options.columns,selected_fields:["description","ass_for","amt_xfrd_left","ssid","channel","rssi_bar","lt_client_ping"],time_sensitive_fields:["ass_for"],sort_field:"amt_xfrd_left"})}(),dashhelp("live_wireless_clients","#curr_clients_hdr",{above:!0,icon_class:"asx_l"}),_()},lt_clients.on_show=function(){s("#current_usage").is(":hidden")||l3_nodes.graph_current_usage()},lt_clients.stop=function(){t&&t.stop(),l&&l.stop(),n.hide(),live_toolbox.set_tool_status(lt_clients,!1),e.show()}}(jQuery);