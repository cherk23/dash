/* Some or all contents Copyright (c) 2010-2025 Cisco Systems, Inc., all rights reserved */
function verifyAddress(e,d,n,t){var s,r,o=n,a=new Array(2,4,6,10,12,13,16,16,17);function i(e){var d,n;return(d=e.match(/^\s*([-+]?(?:\d+\.?\d*|\.\d+))\s$/))?+d[1]:(d=e.match(/^\s*([-+]?\d+)\s*d\s*(?:(\d+\.?\d*|\.\d+)\s*m)?\s*$/))&&(d[2]||0)<=65?(n=d[1]<0?-1:1,+d[1]+n*(d[2]||0)/60):(d=e.match(/^\s*([-+]?\d+)\s*d\s*(\d+)\s*m\s*(?:(\d+\.?\d*|\.\d+)\s*s?)?\s*$/))&&d[2]<=65&&(d[3]||0)<=65?(n=d[1]<0?-1:1,+d[1]+n*((d[2]||0)/60+(d[3]||0)/3600)):null}function l(e,d){return d[2]=d[2].toUpperCase(),d[4]=d[4].toUpperCase(),"S"==(d="E"==d[2]||"W"==d[2]?[d[3],d[4],d[1],d[2]]:d)[2]&&(d[1]=-d[1]),"W"==d[4]&&(d[3]=-d[3]),"N"!=d[2]&&"S"!=d[2]||"E"!=d[4]&&"W"!=d[4]||d[1]<-90||90<d[1]||d[3]<-180||180<d[3]?null:{address:e,Point:{coordinates:[d[3],d[1],0]}}}if(!verifyAddress.geocoder){if("undefined"==typeof GClientGeocoder)return void googleMapsLoad(function(){verifyAddress(e,d,n,t)});verifyAddress.geocoder=new GClientGeocoder(null,google_maps_key,google_maps_client_id)}return t||(n=function(e){var d=new GLatLng(e.Point.coordinates[1],e.Point.coordinates[0]),e=a[e.AddressDetails.Accuracy];o(d.lat(),d.lng(),e)}),(s=e.match(/^\s*([-+]?(?:\d+\.?\d*|\.\d+))\s+([-+]?(?:\d+\.?\d*|\.\d+))\s*$/))&&(r=l(e,[null,+s[1],"N",+s[2],"E"]))||(s=e.match(/^([-+\d\.\sdms]+)\s*([NSEW])\s*([-+\d\.\sdms]+)\s*([NSEW])\s*$/))&&null!=(s[1]=i(s[1]))&&null!=(s[3]=i(s[3]))&&(r=l(e,s))?n(r):void verifyAddress.geocoder.getLocations(e,function(e){e?200!=e.Status.code?d(e.Status.code):n(e.Placemark[0]):d(0)})}function verifyAddressExtended(e,d,n){return verifyAddress(e,d,n,!0)}function addressBadDefaultHandler(e){603==e?alert("Unfortunately the map interface we use does not support the country or location that you entered.\n           You will probably need to enter an address in a different country for your nodes, or enter raw latitude and longitude.\n           We apologize for the inconvenience."):alert('Could not translate address, please try again.\n           Valid formats are:\n           - Address, City, State\n           - Street, Zip\n           - City, Country\n           - Latitude and longitude, such as "37.76N 122.4W"')}